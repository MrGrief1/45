<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://*.wikipedia.org;">
    <title>FlashSearch</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="aux-window-template.css">
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <div id="app-container">
        
        <div id="search-view" class="view active">
            <div id="main-layout">
                <div id="search-toolbar" class="glass-element">
                    <div class="search-toolbar-field">
                        <i data-feather="search" class="icon search-icon"></i>
                        <input type="text" id="search-input" placeholder="FlashSearch" autofocus>
                    </div>
                    <div id="quick-action-buttons" class="quick-action-bar" role="toolbar" aria-label="Quick actions">
                        <!-- Quick action buttons will be rendered by renderer.js -->
                    </div>
                </div>
            </div>

            <div id="pinned-apps-container" class="glass-element">
                <!-- Pinned apps will be rendered here by renderer.js -->
            </div>

            <div id="aux-panel" class="glass-element">
                <!-- Auxiliary content will be loaded here -->
            </div>

            <div id="results-area" class="glass-element">
                <div id="results-container">
                    <ul id="results-list"></ul>
                </div>
                <div id="web-preview-container">
                    <div id="loader" style="display:none;">Loading...</div>
                    </div>
            </div>
        </div>

        <div id="settings-view" class="view">
             <div class="settings-container glass-element">
                <div class="settings-header">
                    <button id="settings-back-button" class="action-button glass-element">
                        <i data-feather="arrow-left" class="icon"></i>
                    </button>
                    <h2 data-i18n="settings_title">Settings</h2>
                </div>
                
                <div class="settings-content">
                    <div class="settings-sidebar">
                        <ul>
                            <li data-tab="general" class="active" data-i18n="settings_general">General</li>
                            <li data-tab="appearance" data-i18n="settings_appearance">Appearance</li>
                            <li data-tab="indexing" data-i18n="settings_indexing">Indexing</li>
                            <li data-tab="automations" data-i18n="settings_automations">Automations</li>
                            <li data-tab="subscription" data-i18n="settings_subscription">Subscription</li>
                            <li data-tab="addons" class="subscription-only" data-i18n="settings_addons">Add-on Lab</li>
                            <li data-tab="about" data-i18n="settings_about">About</li>
                        </ul>
                    </div>
                    <div class="settings-main">
                        
                        <div id="tab-general" class="tab-content active">
                            <div class="setting-item">
                                <label data-i18n="settings_language">Language</label>
                                <div class="custom-select-wrapper" data-setting-key="language" id="custom-select-language">
                                    <div class="custom-select">
                                        <div class="custom-select-trigger">
                                            <span data-i18n="language_name_en">English</span>
                                            <i data-feather="chevron-down" class="arrow"></i>
                                        </div>
                                        <div class="custom-options">
                                            <div class="custom-option" data-value="en"><span data-i18n="language_name_en">English</span></div>
                                            <div class="custom-option" data-value="ru"><span data-i18n="language_name_ru">Русский</span></div>
                                            <div class="custom-option" data-value="fr"><span data-i18n="language_name_fr">Français</span></div>
                                            <div class="custom-option" data-value="de"><span data-i18n="language_name_de">Deutsch</span></div>
                                            <div class="custom-option" data-value="zh"><span data-i18n="language_name_zh">中文 (简体)</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_shortcut">Global Shortcut</label>
                                <input type="text" id="setting-shortcut" placeholder="e.g., Alt+Space">
                                <div class="setting-item-description">
                                    <p data-i18n="settings_shortcut_description">Use modifiers like Ctrl, Alt, Shift + a key (e.g., Alt+S).</p>
                                </div>
                            </div>
                             <div class="setting-item">
                                <label data-i18n="settings_window_position">Window Position</label>
                                <div class="custom-select-wrapper" data-setting-key="windowPosition" id="custom-select-position">
                                    <div class="custom-select">
                                        <div class="custom-select-trigger">
                                            <span data-i18n="pos_top_center">Top Center</span>
                                            <i data-feather="chevron-down" class="arrow"></i>
                                        </div>
                                        <div class="custom-options">
                                            <div class="custom-option" data-value="top-center"><span data-i18n="pos_top_center">Top Center</span></div>
                                            <div class="custom-option" data-value="center"><span data-i18n="pos_center">Center Screen</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_pinned_apps">Pinned Apps</label>
                                <label class="toggle-switch-ios">
                                    <input type="checkbox" id="setting-pinned-apps">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_apps_library_basic_only">Apps Library: Hide technical tools</label>
                                <label class="toggle-switch-ios">
                                    <input type="checkbox" id="setting-apps-library-basic-only">
                                    <span class="slider"></span>
                                </label>
                                <div class="setting-item-description small">
                                    <p data-i18n="settings_apps_library_basic_only_hint">Show only everyday applications. Disable to include diagnostics and developer utilities.</p>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_auto_launch">Launch at system startup</label>
                                <label class="toggle-switch-ios">
                                    <input type="checkbox" id="setting-auto-launch">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div id="tab-appearance" class="tab-content">
                            <div class="setting-item">
                                <label data-i18n="settings_theme">Theme</label>
                                <div class="custom-select-wrapper" data-setting-key="theme" id="custom-select-theme">
                                    <div class="custom-select">
                                        <div class="custom-select-trigger">
                                            <span data-i18n="theme_auto">Auto</span>
                                            <i data-feather="chevron-down" class="arrow"></i>
                                        </div>
                                        <div class="custom-options">
                                            <div class="custom-option" data-value="auto"><span data-i18n="theme_auto">Auto</span></div>
                                            <div class="custom-option" data-value="light"><span data-i18n="theme_light">Light</span></div>
                                            <div class="custom-option" data-value="dark"><span data-i18n="theme_dark">Dark</span></div>
                                            <div class="custom-option" data-value="liquid_glass_blue"><span data-i18n="theme_liquid_glass_blue">Liquid Glass</span></div>
                                            <div class="custom-option" data-value="ocean_depths"><span data-i18n="theme_ocean_depths">Ocean Depths</span></div>
                                            <div class="custom-option" data-value="sunset"><span data-i18n="theme_sunset">Sunset Gradient</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                             <div class="setting-item">
                                <label data-i18n="settings_animations">Enable Animations</label>
                                <label class="toggle-switch-ios">
                                    <input type="checkbox" id="setting-animations">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_animation_style">Animation Style</label>
                                <div class="custom-select-wrapper" data-setting-key="animationStyle" id="custom-select-animation-style">
                                     <div class="custom-select">
                                        <div class="custom-select-trigger">
                                            <span data-i18n="anim_scale">Scale & Bounce</span>
                                            <i data-feather="chevron-down" class="arrow"></i>
                                        </div>
                                        <div class="custom-options">
                                            <div class="custom-option" data-value="scale"><span data-i18n="anim_scale">Scale & Bounce</span></div>
                                            <div class="custom-option" data-value="slide"><span data-i18n="anim_slide">Slide Down</span></div>
                                            <div class="custom-option" data-value="fade"><span data-i18n="anim_fade">Fade</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="setting-item">
                               <label data-i18n="settings_focus_highlight">Focus Highlight</label>
                               <label class="toggle-switch-ios">
                                   <input type="checkbox" id="setting-focus-highlight">
                                   <span class="slider"></span>
                               </label>
                           </div>
                            <div class="setting-item">
                                <label data-i18n="settings_results_animation_style">Results Animation</label>
                                <div class="custom-select-wrapper" data-setting-key="resultsAnimationStyle" id="custom-select-results-animation-style">
                                     <div class="custom-select">
                                        <div class="custom-select-trigger">
                                            <span data-i18n="anim_slide_up">Slide Up</span>
                                            <i data-feather="chevron-down" class="arrow"></i>
                                        </div>
                                        <div class="custom-options">
                                            <div class="custom-option" data-value="slide-up"><span data-i18n="anim_slide_up">Slide Up</span></div>
                                            <div class="custom-option" data-value="fade-in"><span data-i18n="anim_fade_in">Fade In</span></div>
                                            <div class="custom-option" data-value="scale-in"><span data-i18n="anim_scale_in">Scale In</span></div>
                                            <div class="custom-option" data-value="slide-right"><span data-i18n="anim_slide_right">Slide from Right</span></div>
                                            <div class="custom-option" data-value="fold"><span data-i18n="anim_fold">Fold Away</span></div>
                                            <div class="custom-option" data-value="shrink"><span data-i18n="anim_shrink">Shrink & Fade</span></div>
                                            <div class="custom-option" data-value="coil"><span data-i18n="anim_coil">Spiral Coil</span></div>
                                            <div class="custom-option" data-value="curl"><span data-i18n="anim_curl">Curl Up</span></div>
                                            <div class="custom-option" data-value="vanish"><span data-i18n="anim_vanish">Soft Vanish</span></div>
                                            <div class="custom-option" data-value="twirl"><span data-i18n="anim_twirl">Twirl Collapse</span></div>
                                            <div class="custom-option" data-value="drift"><span data-i18n="anim_drift">Drift Away</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- НОВОЕ: Выбор цвета выделения -->
                            <div class="setting-item">
                                <label data-i18n="settings_selection_color">Selection Color</label>
                                <div class="custom-select-wrapper" data-setting-key="selectionColorStyle" id="custom-select-selection-color">
                                     <div class="custom-select">
                                        <div class="custom-select-trigger">
                                            <span data-i18n="selection_gray">Gray</span>
                                            <i data-feather="chevron-down" class="arrow"></i>
                                        </div>
                                        <div class="custom-options">
                                            <div class="custom-option" data-value="gray"><span data-i18n="selection_gray">Gray</span></div>
                                            <div class="custom-option" data-value="blue"><span data-i18n="selection_blue">Blue</span></div>
                                            <div class="custom-option" data-value="green"><span data-i18n="selection_green">Green</span></div>
                                            <div class="custom-option" data-value="purple"><span data-i18n="selection_purple">Purple</span></div>
                                            <div class="custom-option" data-value="red"><span data-i18n="selection_red">Red</span></div>
                                            <div class="custom-option" data-value="orange"><span data-i18n="selection_orange">Orange</span></div>
                                            <div class="custom-option" data-value="yellow"><span data-i18n="selection_yellow">Yellow</span></div>
                                            <div class="custom-option" data-value="accent"><span data-i18n="selection_accent">Accent (Theme)</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                             <div class="setting-item">
                                <label data-i18n="settings_opacity">Opacity (%)</label>
                                <input type="range" id="setting-opacity" min="0" max="100" step="1">
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_blur">Blur Strength (px)</label>
                                <input type="range" id="setting-blur" min="0" max="100" step="1">
                            </div>
                            <hr>
                            <div class="setting-item">
                                <label data-i18n="settings_width">Window Width (px)</label>
                                <input type="range" id="setting-width" min="600" max="1600" step="10">
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_height">Bar Height (px)</label>
                                <input type="range" id="setting-height" min="70" max="120" step="1">
                            </div>
                            <div class="setting-item">
                                <label data-i18n="settings_border_radius">Corner Radius (px)</label>
                                <input type="range" id="setting-border-radius" min="10" max="40" step="1">
                            </div>
                        </div>

                        <div id="tab-indexing" class="tab-content">
                            <div class="setting-item">
                                 <label data-i18n="settings_max_depth">Max Depth</label>
                                 <input type="number" id="setting-max-depth" min="1" max="20">
                            </div>

                            <h4 data-i18n="settings_indexed_directories">Indexed Directories</h4>
                            <div id="indexed-directories-list"></div>
                            <button id="add-directory-button" class="settings-button" data-i18n="settings_add_directory">Add Directory</button>

                            <hr>
                            <h3 data-i18n="settings_indexing_status_header">Indexing Status</h3>
                            <p><span data-i18n="settings_indexing_status">Status:</span> <strong id="index-status">Loading...</strong></p>
                            <p><span data-i18n="settings_indexed_files">Indexed Files:</span> <strong id="index-count">0</strong></p>
                            <button id="rebuild-index-button" class="settings-button secondary" data-i18n="settings_rebuild_index">Rebuild Index</button>
                        </div>

                        <div id="tab-automations" class="tab-content">
                            <h4 data-i18n="settings_custom_automations">Custom Automations</h4>
                            <div id="automations-list"></div>

                            <div class="automation-form">
                                <input type="text" id="new-auto-name" data-i18n-placeholder="settings_auto_name" placeholder="Name">
                                <input type="text" id="new-auto-keyword" data-i18n-placeholder="settings_auto_keyword" placeholder="Keyword">
                                <input type="text" id="new-auto-command" data-i18n-placeholder="settings_auto_command" placeholder="Command/Path">
                                <button id="add-automation-button" class="settings-button" data-i18n="settings_add_automation">Add</button>
                            </div>
                            <hr>
                            <div class="automation-instructions">
                                <h4 data-i18n="auto_instructions_title">How to create an Automation</h4>
                                <p data-i18n="auto_instructions_p1">Automations allow you to run commands or open applications using a short keyword.</p>
                                <ul>
                                    <li data-i18n-html="auto_instructions_step1"></li>
                                    <li data-i18n-html="auto_instructions_step2"></li>
                                    <li data-i18n-html="auto_instructions_step3"></li>
                                </ul>
                            </div>
                        </div>

                        <div id="tab-subscription" class="tab-content">
                            <section class="settings-section-card subscription-section">
                                <header class="subscription-header">
                                    <div class="subscription-header-text">
                                        <h3 data-i18n="subscription_overview_title">Your subscription</h3>
                                        <p class="subscription-subtitle" data-i18n="subscription_trial_message">Your add-on tools stay unlocked while the subscription is active.</p>
                                    </div>
                                    <span id="subscription-status-badge" class="subscription-badge">Active</span>
                                </header>
                                <div class="subscription-metadata">
                                    <div class="subscription-metadata-item">
                                        <span class="subscription-label" data-i18n="subscription_plan_label">Plan</span>
                                        <p id="subscription-plan-name" class="subscription-value">FlashSearch Studio</p>
                                    </div>
                                    <div class="subscription-metadata-item">
                                        <span class="subscription-label" data-i18n="subscription_status_label">Status</span>
                                        <p id="subscription-status-text" class="subscription-value">Active</p>
                                    </div>
                                    <div class="subscription-metadata-item">
                                        <span class="subscription-label" data-i18n="subscription_next_renewal">Next renewal</span>
                                        <p id="subscription-renewal-date" class="subscription-value">—</p>
                                    </div>
                                </div>
                                <div class="subscription-perks">
                                    <h4 data-i18n="subscription_perks_title">Included perks</h4>
                                    <ul id="subscription-feature-list" class="subscription-feature-list"></ul>
                                </div>
                                <button id="subscription-manage-button" class="settings-button external-link" data-url="https://flashsearch.app/account" data-i18n="subscription_manage">Manage subscription</button>
                            </section>
                            <section class="settings-section-card subscription-lab-card">
                                <div class="subscription-lab-text">
                                    <h4 data-i18n="subscription_lab_title">Add-on Lab unlocked</h4>
                                    <p data-i18n="subscription_lab_description">Use the Add-on Lab tab to combine building blocks and tailor FlashSearch to your workflow.</p>
                                </div>
                            </section>
                        </div>

                        <div id="tab-addons" class="tab-content">
                            <section class="settings-section-card addons-section">
                                <header class="addons-section-header">
                                    <div>
                                        <h3 data-i18n="addons_active_title">Active workspace</h3>
                                        <p data-i18n="addons_active_description">These add-ons are currently plugged into FlashSearch.</p>
                                    </div>
                                </header>
                                <div id="active-addons-list" class="addons-active-list"></div>
                            </section>
                            <section class="settings-section-card addons-section">
                                <header class="addons-section-header">
                                    <div>
                                        <h3 data-i18n="addons_gallery_title">Component gallery</h3>
                                        <p data-i18n="addons_gallery_description">Start with a ready-made module and adapt it to your workflow.</p>
                                    </div>
                                </header>
                                <div id="addon-gallery" class="addons-gallery"></div>
                            </section>
                            <section class="settings-section-card addons-section quick-actions-bridge">
                                <header class="addons-section-header">
                                    <div>
                                        <h3 data-i18n="quick_actions_bridge_title">Quick bar workspace</h3>
                                        <p data-i18n="quick_actions_bridge_description">Curate the buttons beside the search bar and launch the studio for deeper customization.</p>
                                    </div>
                                </header>
                                <div class="quick-actions-bridge-body">
                                    <div class="quick-actions-bridge-copy">
                                        <p data-i18n="quick_actions_bridge_body">Use the Quick App Studio to assemble flows visually. Activate or remove quick actions to keep your workspace focused.</p>
                                        <ul>
                                            <li data-i18n="quick_actions_bridge_point1">Toggle which default tools appear next to search.</li>
                                            <li data-i18n="quick_actions_bridge_point2">Promote your custom automations to instant-launch buttons.</li>
                                            <li data-i18n="quick_actions_bridge_point3">Share blueprints with teammates via export files.</li>
                                        </ul>
                                    </div>
                                    <div class="quick-actions-bridge-controls">
                                        <button id="open-quick-action-manager" class="settings-button" data-i18n="quick_actions_bridge_manage">Manage quick bar</button>
                                        <button id="open-quick-app-studio" class="settings-button primary" data-i18n="quick_actions_bridge_launch">Launch Quick App Studio</button>
                                        <button id="open-quick-actions-help" class="settings-button subtle" data-i18n="quick_actions_bridge_learn">Learn more</button>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <div id="tab-about" class="tab-content">
                            <h3 data-i18n="app_name">FlashSearch</h3>
                            <p><span data-i18n="about_version">Version:</span> <strong id="app-version">N/A</strong></p>
                            <hr>
                            <p><span data-i18n="about_developer">Developer:</span> <strong>Maks Urazov</strong></p>
                            <p><span data-i18n="about_contact">Contact:</span> <a href="#" class="external-link" data-url="mailto:maksurazov1502@gmail.com">maksurazov1502@gmail.com</a></p>
                            <p><span data-i18n="about_social">Follow us on X:</span> <a href="#" class="external-link" data-url="https://x.com/MrGr1ef">@MrGr1ef</a></p>
                        </div>

                    </div>
                </div>
            </div>

        </div>

        <div id="quick-app-builder-view" class="view">
            <div class="quick-app-builder-shell">
                <header class="quick-app-builder-header glass-element">
                    <div class="builder-header-primary">
                        <button id="builder-back-button" class="builder-icon-button" title="Back to search" aria-label="Back to search">
                            <i data-feather="arrow-left"></i>
                        </button>
                        <div class="builder-title-group">
                            <h2 data-i18n="quick_app_builder_title">Quick App Studio</h2>
                            <p data-i18n="quick_app_builder_subtitle">Assemble modules to create your custom quick action.</p>
                        </div>
                    </div>
                    <div class="builder-header-actions">
                        <button id="builder-preview-action" class="builder-pill-button" data-i18n="quick_app_builder_preview">Preview</button>
                        <button id="builder-save-action" class="builder-pill-button primary" data-i18n="quick_app_builder_save">Add to quick actions</button>
                    </div>
                </header>
                <div class="quick-app-builder-body">
                    <aside class="builder-sidebar glass-element">
                        <div class="sidebar-section">
                            <div class="sidebar-section-header">
                                <h3 data-i18n="quick_app_modules_title">Modules</h3>
                                <button id="builder-collapse-sidebar" class="builder-icon-button" title="Collapse sidebar">
                                    <i data-feather="chevron-left"></i>
                                </button>
                            </div>
                            <div class="sidebar-search">
                                <i data-feather="search"></i>
                                <input type="text" id="builder-module-filter" data-i18n-placeholder="quick_app_modules_search" placeholder="Search modules">
                            </div>
                            <div id="builder-module-groups" class="sidebar-module-groups">
                                <!-- Module groups rendered dynamically -->
                            </div>
                        </div>
                        <div class="sidebar-section secondary">
                            <h3 data-i18n="quick_app_templates_title">Blueprints</h3>
                            <div id="builder-blueprints" class="sidebar-blueprints">
                                <!-- Blueprint cards rendered dynamically -->
                            </div>
                        </div>
                    </aside>
                    <main class="builder-canvas-area">
                        <div class="builder-canvas-toolbar glass-element">
                            <div class="canvas-toolbar-left">
                                <button class="builder-icon-button" id="builder-zoom-in" title="Zoom in">
                                    <i data-feather="zoom-in"></i>
                                </button>
                                <button class="builder-icon-button" id="builder-zoom-out" title="Zoom out">
                                    <i data-feather="zoom-out"></i>
                                </button>
                                <button class="builder-icon-button" id="builder-zoom-reset" title="Reset zoom">
                                    <i data-feather="maximize-2"></i>
                                </button>
                                <div class="canvas-toolbar-divider"></div>
                                <button class="builder-icon-button" id="builder-auto-layout" title="Auto layout">
                                    <i data-feather="aperture"></i>
                                </button>
                                <button class="builder-icon-button" id="builder-run-test" title="Run test">
                                    <i data-feather="play"></i>
                                </button>
                            </div>
                            <div class="canvas-toolbar-right">
                                <span id="builder-zoom-indicator">100%</span>
                                <span class="canvas-status" id="builder-status-indicator" data-i18n="quick_app_status_idle">Idle</span>
                            </div>
                        </div>
                        <div class="builder-canvas" id="builder-canvas" tabindex="0">
                            <svg id="builder-connection-layer"></svg>
                            <div id="builder-nodes-layer" class="builder-nodes-layer"></div>
                            <div id="builder-empty-state" class="builder-empty-state" data-i18n="quick_app_builder_empty_state">Drop a module to begin.</div>
                        </div>
                        <footer class="builder-timeline glass-element">
                            <div class="timeline-header">
                                <h4 data-i18n="quick_app_activity_log">Execution timeline</h4>
                                <button class="builder-icon-button" id="builder-clear-log" title="Clear log">
                                    <i data-feather="trash-2"></i>
                                </button>
                            </div>
                            <div id="builder-log" class="builder-log"></div>
                        </footer>
                    </main>
                    <aside class="builder-inspector glass-element">
                        <div class="inspector-header">
                            <h3 data-i18n="quick_app_inspector_title">Inspector</h3>
                            <button class="builder-icon-button" id="builder-close-inspector" title="Close inspector">
                                <i data-feather="x"></i>
                            </button>
                        </div>
                        <div id="builder-inspector-content" class="inspector-content">
                            <p data-i18n="quick_app_inspector_empty">Select a module to edit its configuration.</p>
                        </div>
                        <div class="inspector-footer">
                            <button id="builder-duplicate-node" class="builder-pill-button" data-i18n="quick_app_duplicate_node">Duplicate</button>
                            <button id="builder-delete-node" class="builder-pill-button danger" data-i18n="quick_app_delete_node">Delete</button>
                        </div>
                    </aside>
                </div>
            </div>
        </div>
    </div>

    <div id="quick-action-manager" class="quick-action-manager hidden" role="dialog" aria-modal="true" aria-labelledby="quick-action-manager-title">
        <div class="quick-action-manager-dialog glass-element">
            <header class="quick-action-manager-header">
                <div class="manager-header-text">
                    <h3 id="quick-action-manager-title" data-i18n="quick_action_manager_title">Quick bar manager</h3>
                    <p data-i18n="quick_action_manager_subtitle">Enable, arrange, and personalize the buttons that live beside search.</p>
                </div>
                <button id="quick-action-manager-close" class="builder-icon-button" aria-label="Close manager">
                    <i data-feather="x"></i>
                </button>
            </header>
            <div class="quick-action-manager-body">
                <div class="manager-columns">
                    <section class="manager-column">
                        <h4 data-i18n="quick_action_manager_active">Active quick actions</h4>
                        <p data-i18n="quick_action_manager_active_hint">Drag to reorder. Click the minus icon to remove an item.</p>
                        <ul id="quick-action-active-list" class="quick-action-list" aria-label="Active quick actions"></ul>
                        <div class="manager-column-footer">
                            <button id="quick-action-reset-defaults" class="builder-pill-button subtle" data-i18n="quick_action_manager_reset">Restore defaults</button>
                        </div>
                    </section>
                    <section class="manager-column">
                        <h4 data-i18n="quick_action_manager_available">Available actions</h4>
                        <p data-i18n="quick_action_manager_available_hint">Toggle to add an item to the quick bar.</p>
                        <div id="quick-action-available-list" class="quick-action-available"></div>
                        <div class="manager-column-footer">
                            <button id="quick-action-import" class="builder-pill-button" data-i18n="quick_action_manager_import">Import blueprint</button>
                            <button id="quick-action-export" class="builder-pill-button" data-i18n="quick_action_manager_export">Export selection</button>
                        </div>
                    </section>
                    <section class="manager-column">
                        <h4 data-i18n="quick_action_manager_details">Details</h4>
                        <div id="quick-action-detail" class="quick-action-detail"></div>
                        <div class="manager-column-footer">
                            <button id="quick-action-create" class="builder-pill-button primary" data-i18n="quick_action_manager_create">Design new quick app</button>
                        </div>
                    </section>
                </div>
            </div>
            <footer class="quick-action-manager-footer">
                <div class="manager-status" id="quick-action-manager-status" data-i18n="quick_action_manager_status_ready">Ready</div>
                <div class="manager-footer-actions">
                    <button id="quick-action-manager-cancel" class="builder-pill-button subtle" data-i18n="quick_action_manager_cancel">Cancel</button>
                    <button id="quick-action-manager-apply" class="builder-pill-button primary" data-i18n="quick_action_manager_apply">Apply changes</button>
                </div>
            </footer>
        </div>
    </div>

    <div id="quick-actions-help" class="quick-actions-help hidden" role="dialog" aria-modal="true" aria-labelledby="quick-actions-help-title">
        <div class="quick-actions-help-dialog glass-element">
            <header class="quick-actions-help-header">
                <h3 id="quick-actions-help-title" data-i18n="quick_actions_help_title">Quick actions overview</h3>
                <button id="quick-actions-help-close" class="builder-icon-button" aria-label="Close help">
                    <i data-feather="x"></i>
                </button>
            </header>
            <div class="quick-actions-help-body">
                <article>
                    <h4 data-i18n="quick_actions_help_layout_title">Workspace anatomy</h4>
                    <p data-i18n="quick_actions_help_layout_body">The quick bar sits to the right of the global search field. Each button can launch an app, toggle a panel, or run a full automation.</p>
                    <h4 data-i18n="quick_actions_help_builder_title">Designing flows</h4>
                    <p data-i18n="quick_actions_help_builder_body">Quick App Studio offers drag-and-drop modules, responsive zoom, branching conditions, and live testing. Save your blueprint to instantly spawn a button.</p>
                    <h4 data-i18n="quick_actions_help_tips_title">Tips</h4>
                    <ul>
                        <li data-i18n="quick_actions_help_tip1">Group related actions by colour and emoji for faster recognition.</li>
                        <li data-i18n="quick_actions_help_tip2">Use the timeline to trace automation runs before publishing.</li>
                        <li data-i18n="quick_actions_help_tip3">Export blueprints to share quick apps with your organisation.</li>
                    </ul>
                </article>
            </div>
            <footer class="quick-actions-help-footer">
                <button id="quick-actions-help-open-studio" class="builder-pill-button primary" data-i18n="quick_actions_help_launch">Open Quick App Studio</button>
            </footer>
        </div>
    </div>

    <script>
      // Инициализация иконок Feather Icons (необходима для отображения)
      if (window.feather) {
          feather.replace();
      }
    </script>
    <div id="folder-context-menu" class="folder-context-menu">
        <div class="folder-menu-actions">
            <button type="button" class="folder-menu-action" data-action="rename" data-i18n="context_rename_folder">Rename</button>
            <button type="button" class="folder-menu-action danger" data-action="delete" data-i18n="context_delete_folder">Delete Folder</button>
        </div>
        <div class="folder-menu-divider"></div>
        <div class="folder-menu-section">
            <div class="folder-menu-section-title" data-i18n="context_change_color">Change color</div>
            <div class="folder-menu-colors"></div>
        </div>
        <div class="folder-menu-divider"></div>
        <div class="folder-menu-section">
            <div class="folder-menu-section-title" data-i18n="context_change_icon">Change icon</div>
            <div class="folder-menu-icons"></div>
        </div>
    </div>
    <div id="pinned-context-menu" class="pinned-context-menu" role="menu">
        <button type="button" data-action="create-folder" data-i18n="context_create_folder">Create Folder</button>
    </div>
    <script src="workflow-designer.js"></script>
    <script src="renderer.js"></script>
</body>
</html>
